<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="850" height="862" contentStyleType="text/css" preserveAspectRatio="none" style="width:850px;height:862px;background:#fff" version="1.1" viewBox="0 0 850 862" zoomAndPan="magnify"><g><g id="cluster_mediaSystem"><rect width="248" height="429" x="594.5" y="7" fill="none" rx="2.5" ry="2.5" style="stroke:#444;stroke-width:1;stroke-dasharray:7,7"/><text x="655" y="43.852" fill="#444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="127">Media System</text><text x="686.5" y="58.764" fill="#444" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="64">[System]</text></g><g id="elem_mediaService"><rect width="200" height="115.453" x="610.5" y="78" fill="#438DD5" rx="2.5" ry="2.5" style="stroke:#3c7fc0;stroke-width:.5"/><text x="643.5" y="99.139" fill="#FFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="134">«webApp»«container»</text><text x="648" y="116.82" fill="#FFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="53">Media</text><text x="707" y="116.82" fill="#FFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="66">Service</text><text x="697.5" y="131.732" fill="#FFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="26">[Go]</text><text x="624.5" y="163.855" fill="#FFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53">Service</text><text x="681.5" y="163.855" fill="#FFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21">for</text><text x="706.5" y="163.855" fill="#FFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90">downloading</text><text x="620.5" y="180.151" fill="#FFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26">and</text><text x="650.5" y="180.151" fill="#FFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68">providing</text><text x="722.5" y="180.151" fill="#FFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44">media</text><text x="770.5" y="180.151" fill="#FFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30">files</text></g><g id="elem_mediaDatabase"><path fill="#438DD5" d="M610.5,306 C610.5,296 718.5,296 718.5,296 C718.5,296 826.5,296 826.5,306 L826.5,410.4531 C826.5,420.4531 718.5,420.4531 718.5,420.4531 C718.5,420.4531 610.5,420.4531 610.5,410.4531 L610.5,306" style="stroke:#3c7fc0;stroke-width:.5"/><path fill="none" d="M610.5,306 C610.5,316 718.5,316 718.5,316 C718.5,316 826.5,316 826.5,306" style="stroke:#3c7fc0;stroke-width:.5"/><text x="683" y="331.139" fill="#FFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="71">«container»</text><text x="646.5" y="348.82" fill="#FFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="53">Media</text><text x="705.5" y="348.82" fill="#FFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="85">database</text><text x="705.5" y="363.732" fill="#FFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="26">[S3]</text><text x="620.5" y="395.854" fill="#FFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68">Database</text><text x="692.5" y="395.854" fill="#FFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21">for</text><text x="717.5" y="395.854" fill="#FFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51">storing</text><text x="772.5" y="395.854" fill="#FFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44">media</text><text x="703.5" y="412.151" fill="#FFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30">files</text></g><g id="elem_user"><rect width="75" height="100.594" x="545" y="539" fill="#08427B" rx="2.5" ry="2.5" style="stroke:#073b6f;stroke-width:.5"/><text x="555" y="560.139" fill="#FFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="55">«person»</text><image width="48" height="48" x="558.5" y="562.969" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII="/><text x="562" y="625.82" fill="#FFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="41">User</text></g><g id="elem_loadBalancer"><rect width="149" height="99.156" x="421" y="757" fill="#438DD5" rx="2.5" ry="2.5" style="stroke:#3c7fc0;stroke-width:.5"/><text x="460" y="778.139" fill="#FFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="71">«container»</text><text x="431" y="795.82" fill="#FFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="44">Load</text><text x="481" y="795.82" fill="#FFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="79">Balancer</text><text x="473" y="810.732" fill="#FFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="45">[Nginx]</text><text x="436" y="842.855" fill="#FFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32">Uses</text><text x="472" y="842.855" fill="#FFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41">round</text><text x="517" y="842.855" fill="#FFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38">robin</text></g><g id="elem_messageQueue"><path fill="#438DD5" d="M102.5,305.5 L298.5,305.5 C303.5,305.5 303.5,358.2266 303.5,358.2266 C303.5,358.2266 303.5,410.9531 298.5,410.9531 L102.5,410.9531 C97.5,410.9531 97.5,358.2266 97.5,358.2266 C97.5,358.2266 97.5,305.5 102.5,305.5" style="stroke:#3c7fc0;stroke-width:.5"/><path fill="none" d="M298.5,305.5 C293.5,305.5 293.5,358.2266 293.5,358.2266 C293.5,410.9531 298.5,410.9531 298.5,410.9531" style="stroke:#3c7fc0;stroke-width:.5"/><text x="160" y="321.639" fill="#FFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="71">«container»</text><text x="134.5" y="339.32" fill="#FFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="61">Events</text><text x="201.5" y="339.32" fill="#FFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="55">queue</text><text x="174" y="354.232" fill="#FFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="43">[Kafka]</text><text x="102.5" y="386.354" fill="#FFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61">Message</text><text x="167.5" y="386.354" fill="#FFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43">queue</text><text x="214.5" y="386.354" fill="#FFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21">for</text><text x="239.5" y="386.354" fill="#FFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49">events</text><text x="162.5" y="402.651" fill="#FFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="18">by</text><text x="184.5" y="402.651" fill="#FFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44">media</text></g><g id="elem_postSystem"><rect width="205" height="115.453" x="7" y="78" fill="#438DD5" rx="2.5" ry="2.5" style="stroke:#3c7fc0;stroke-width:.5"/><text x="74" y="99.139" fill="#FFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="71">«container»</text><text x="51" y="116.82" fill="#FFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="43">Post</text><text x="100" y="116.82" fill="#FFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="68">System</text><text x="96.5" y="131.732" fill="#FFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="26">[Go]</text><text x="17" y="163.855" fill="#FFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32">Post</text><text x="53" y="163.855" fill="#FFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60">creation</text><text x="117" y="163.855" fill="#FFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26">and</text><text x="147" y="163.855" fill="#FFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55">storage</text><text x="83.5" y="180.151" fill="#FFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52">system</text></g><g id="elem_CDN"><path fill="#F1F1F1" d="M517.6198,344.5689 C519.7827,338.8668 524.7985,337.6066 528.7098,342.7872 C531.1266,337.8214 535.245,336.7927 539.1898,341.0514 C543.3008,336.2177 548.2456,338.508 550.0681,343.5677 C553.3861,337.4177 557.3565,338.6449 561.1834,343.0309 C570.3001,346.0866 572.7672,352.1563 565.3948,359.4431 C571.7857,365.5866 570.937,370.3091 562.9377,374.0284 C562.1703,381.5655 557.393,383.857 551.1011,379.5489 C548.9778,386.1127 544.8489,388.3135 538.6609,384.3539 C532.7792,388.4645 529.5428,386.4425 528.0135,379.9736 C522.2979,382.3236 517.8836,381.4866 517.7991,374.079 C509.3057,371.1055 507.6598,363.6696 515.4352,358.2643 C509.7217,352.8672 511.3384,348.0526 517.6198,344.5689" style="stroke:#181818;stroke-width:.5"/><text x="523" y="362.995" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31">CDN</text></g><g id="link_user_loadBalancer"><path id="user-to-loadBalancer" fill="none" d="M562.431,640.095 C549.228,672.723 531.92,715.495 518.213,749.37" style="stroke:#666;stroke-width:1"/><polygon fill="#666" points="515.168 756.895 520.95 750.605 515.389 748.354 515.168 756.895" style="stroke:#666;stroke-width:1"/><text x="578" y="682.139" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="60">Request</text><text x="642" y="682.139" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="16">to</text><text x="568" y="696.107" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="69">download</text><text x="641" y="696.107" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="27">and</text><text x="549.5" y="710.076" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="54">receive</text><text x="607.5" y="710.076" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="43">media</text><text x="654.5" y="710.076" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="32">files</text><text x="597.5" y="724.045" fill="#666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="41">[REST]</text></g><g id="link_loadBalancer_mediaService"><path id="loadBalancer-to-mediaService" fill="none" d="M478.353,756.893 C456.498,688.744 423.471,560.922 440.5,452 C457.342,344.275 450.016,298.688 528.5,223 C549.562,202.689 576.287,186.417 602.728,173.712" style="stroke:#666;stroke-width:1"/><polygon fill="#666" points="610.174 170.223 601.657 170.902 604.204 176.335 610.174 170.223" style="stroke:#666;stroke-width:1"/><text x="470" y="464.139" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="60">Request</text><text x="534" y="464.139" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="16">to</text><text x="460" y="478.107" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="69">download</text><text x="533" y="478.107" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="27">and</text><text x="441.5" y="492.076" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="54">receive</text><text x="499.5" y="492.076" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="43">media</text><text x="546.5" y="492.076" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="32">files</text><text x="489.5" y="506.045" fill="#666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="41">[REST]</text></g><g id="link_mediaService_mediaDatabase"><path id="mediaService-to-mediaDatabase" fill="none" d="M712.56,193.284 C713.606,222.1 714.884,257.344 715.987,287.741" style="stroke:#666;stroke-width:1"/><polygon fill="#666" points="716.278 295.766 718.986 287.663 712.99 287.88 716.278 295.766" style="stroke:#666;stroke-width:1"/><text x="715.5" y="242.139" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="49">Upload</text><text x="768.5" y="242.139" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="43">media</text><text x="815.5" y="242.139" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="27">and</text><text x="746.5" y="256.107" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="33">gets</text><text x="783.5" y="256.107" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="28">urls</text></g><g id="link_postSystem_messageQueue"><path id="postSystem-to-messageQueue" fill="none" d="M98.2081,193.235 C96.0603,216.603 96.9361,243.43 106.5,266 C111.564,277.95 119.05,289.099 127.626,299.21" style="stroke:#666;stroke-width:1"/><polygon fill="#666" points="133.094 305.369 130.026 297.395 125.539 301.378 133.094 305.369" style="stroke:#666;stroke-width:1"/><text x="107.5" y="242.139" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="55">Getting</text><text x="166.5" y="242.139" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="87">downloaded</text><text x="141" y="256.107" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="43">media</text><text x="188" y="256.107" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="32">files</text></g><g id="link_mediaService_messageQueue"><path id="mediaService-to-messageQueue" fill="none" d="M610.409,148.706 C504.416,163.122 345.491,189.443 294.5,223 C286.516,228.254 260.964,264.992 238.513,298.672" style="stroke:#666;stroke-width:1"/><polygon fill="#666" points="234.071 305.357 240.997 300.354 236 297.034 234.071 305.357" style="stroke:#666;stroke-width:1"/><text x="296" y="235.139" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="51">Passes</text><text x="351" y="235.139" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="25">the</text><text x="380" y="235.139" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="20">url</text><text x="404" y="235.139" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="16">of</text><text x="295.5" y="249.107" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="25">the</text><text x="324.5" y="249.107" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="49">loaded</text><text x="377.5" y="249.107" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="43">media</text><text x="346" y="263.076" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="24">file</text></g><g id="link_mediaService_CDN"><path id="mediaService-to-CDN" fill="none" d="M610.348,173.124 C588.373,185.691 567.511,202.045 553.5,223 C532.894,253.818 532.043,297.788 534.39,326.843" style="stroke:#666;stroke-width:1"/><polygon fill="#666" points="535.163 334.985 537.394 326.737 531.421 327.304 535.163 334.985" style="stroke:#666;stroke-width:1"/><text x="554.5" y="249.139" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="43">Media</text><text x="601.5" y="249.139" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="58">delivery</text><text x="663.5" y="249.139" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="17">by</text><text x="684.5" y="249.139" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="20">url</text></g><g id="link_CDN_user"><path id="CDN-to-user" fill="none" d="M554.082,381.059 C565.858,399.159 581.059,425.957 587.5,452 C593.766,477.336 593.72,506.116 591.632,530.696" style="stroke:#666;stroke-width:1"/><polygon fill="#666" points="590.851 538.86 594.599 531.182 588.626 530.611 590.851 538.86" style="stroke:#666;stroke-width:1"/><text x="593.5" y="485.139" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="43">Media</text><text x="640.5" y="485.139" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="58">delivery</text><text x="702.5" y="485.139" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="17">by</text><text x="723.5" y="485.139" fill="#666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="20">url</text></g></g></svg>